"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var CustomAppDelegate = (function (_super) {
    __extends(CustomAppDelegate, _super);
    function CustomAppDelegate() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CustomAppDelegate.prototype.applicationDidFinishLaunchingWithOptions = function (application, launchOptions) {
        console.log("applicationWillFinishLaunchingWithOptions: ", this);
        var center = UNUserNotificationCenter.currentNotificationCenter();
        center.requestAuthorizationWithOptionsCompletionHandler(4 /* Alert */ |
            2 /* Sound */ |
            1 /* Badge */, function (granted, error) {
            console.log("requestAuthorizationWithOptionsCompletionHandler: " + granted);
            console.log(error);
        });
        application.registerForRemoteNotifications();
        console.log(PKPushTypeVoIP);
        // register push kip
        var pushkitVOIP = PKPushRegistry.alloc().initWithQueue(null);
        pushkitVOIP.delegate = this;
        pushkitVOIP.desiredPushTypes = NSSet.setWithObject(PKPushTypeVoIP);
        return true;
    };
    CustomAppDelegate.prototype.applicationDidBecomeActive = function (application) {
        console.log("applicationDidBecomeActive:  " + application);
        console.log("is registered", application.registeredForRemoteNotifications);
    };
    CustomAppDelegate.prototype.applicationDidRegisterForRemoteNotificationsWithDeviceToken = function (application, deviceToken) {
        var token = deviceToken.toString().replace(/[<\s>]/g, "");
    };
    CustomAppDelegate.prototype.applicationDidFailToRegisterForRemoteNotificationsWithError = function (application, error) {
        console.error("failed to register push ", error);
    };
    CustomAppDelegate.prototype.applicationDidReceiveRemoteNotification = function (application, userInfo) {
        console.log("applicationDidReceiveRemoteNotification:" + JSON.stringify(userInfo));
    };
    CustomAppDelegate.prototype.applicationDidReceiveRemoteNotificationFetchCompletionHandler = function (application, userInfo, completionHandler) {
        console.log("applicationDidReceiveRemoteNotificationFetchCompletionHandler:" +
            JSON.stringify(userInfo));
        completionHandler(0 /* NewData */);
    };
    CustomAppDelegate.prototype.applicationDidEnterBackground = function (application) {
        console.log("APP_ENTER_IN_BACKGROUND");
    };
    CustomAppDelegate.prototype.applicationWillEnterForeground = function (application) {
        console.log("APP_ENTER_IN_FOREGROUND");
    };
    CustomAppDelegate.prototype.applicationWillTerminate = function (application) { };
    CustomAppDelegate.prototype.pushRegistryDidInvalidatePushTokenForType = function (registry, type) {
        console.log("PUSHKIT : INVALID_PUSHKIT_TOKEN");
    };
    CustomAppDelegate.prototype.pushRegistryDidReceiveIncomingPushWithPayloadForType = function (registry, payload, type) {
        var application = UIApplication.sharedApplication;
        console.log("PUSHKIT : INCOMING VOIP NOTIFICATION :", payload.dictionaryPayload.description);
    };
    CustomAppDelegate.prototype.pushRegistryDidReceiveIncomingPushWithPayloadForTypeWithCompletionHandler = function (registry, payload, type, completion) {
        var application = UIApplication.sharedApplication;
        console.log("PUSHKIT : INCOMING VOIP NOTIFICATION :", payload.dictionaryPayload.description);
        if (completion)
            completion();
    };
    CustomAppDelegate.prototype.pushRegistryDidUpdatePushCredentialsForType = function (registry, pushCredentials, type) {
        console.log("PUSHKIT : VOIP_TOKEN : ");
    };
    CustomAppDelegate.ObjCProtocols = [UIApplicationDelegate];
    return CustomAppDelegate;
}(UIResponder));
exports.CustomAppDelegate = CustomAppDelegate;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVsZWdhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJkZWxlZ2F0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBO0lBQXVDLHFDQUFXO0lBQWxEOztJQStIQSxDQUFDO0lBM0hDLG9FQUF3QyxHQUF4QyxVQUNFLFdBQTBCLEVBQzFCLGFBQWE7UUFFYixPQUFPLENBQUMsR0FBRyxDQUFDLDZDQUE2QyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRWpFLElBQUksTUFBTSxHQUFHLHdCQUF3QixDQUFDLHlCQUF5QixFQUFFLENBQUM7UUFFbEUsTUFBTSxDQUFDLGdEQUFnRCxDQUNyRDt5QkFDOEI7eUJBQ0EsRUFDOUIsVUFBQyxPQUFPLEVBQUUsS0FBSztZQUNiLE9BQU8sQ0FBQyxHQUFHLENBQ1Qsb0RBQW9ELEdBQUcsT0FBTyxDQUMvRCxDQUFDO1lBQ0YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQixDQUFDLENBQ0YsQ0FBQztRQUNGLFdBQVcsQ0FBQyw4QkFBOEIsRUFBRSxDQUFDO1FBQzdDLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUM7UUFFNUIsb0JBQW9CO1FBQ3BCLElBQUksV0FBVyxHQUFHLGNBQWMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDN0QsV0FBVyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDNUIsV0FBVyxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsY0FBYyxDQUFDLENBQUM7UUFFbkUsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxzREFBMEIsR0FBMUIsVUFBMkIsV0FBMEI7UUFDbkQsT0FBTyxDQUFDLEdBQUcsQ0FBQywrQkFBK0IsR0FBRyxXQUFXLENBQUMsQ0FBQztRQUUzRCxPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxXQUFXLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztJQUM3RSxDQUFDO0lBRUQsdUZBQTJELEdBQTNELFVBQ0UsV0FBMEIsRUFDMUIsV0FBbUI7UUFFbkIsSUFBSSxLQUFLLEdBQUcsV0FBVyxDQUFDLFFBQVEsRUFBRSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUNELHVGQUEyRCxHQUEzRCxVQUNFLFdBQTBCLEVBQzFCLEtBQWM7UUFFZCxPQUFPLENBQUMsS0FBSyxDQUFDLDBCQUEwQixFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFRCxtRUFBdUMsR0FBdkMsVUFDRSxXQUEwQixFQUMxQixRQUFnQztRQUVoQyxPQUFPLENBQUMsR0FBRyxDQUNULDBDQUEwQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQ3RFLENBQUM7SUFDSixDQUFDO0lBRUQseUZBQTZELEdBQTdELFVBQ0UsV0FBMEIsRUFDMUIsUUFBZ0MsRUFDaEMsaUJBQXNCO1FBRXRCLE9BQU8sQ0FBQyxHQUFHLENBQ1QsZ0VBQWdFO1lBQzlELElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQzNCLENBQUM7UUFFRixpQkFBaUIsaUJBQWlDLENBQUM7SUFDckQsQ0FBQztJQUVELHlEQUE2QixHQUE3QixVQUE4QixXQUEwQjtRQUN0RCxPQUFPLENBQUMsR0FBRyxDQUFDLHlCQUF5QixDQUFDLENBQUM7SUFDekMsQ0FBQztJQUNELDBEQUE4QixHQUE5QixVQUErQixXQUEwQjtRQUN2RCxPQUFPLENBQUMsR0FBRyxDQUFDLHlCQUF5QixDQUFDLENBQUM7SUFDekMsQ0FBQztJQUVELG9EQUF3QixHQUF4QixVQUF5QixXQUEwQixJQUFHLENBQUM7SUFFdkQscUVBQXlDLEdBQXpDLFVBQ0UsUUFBd0IsRUFDeEIsSUFBWTtRQUVaLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUNBQWlDLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRUQsZ0ZBQW9ELEdBQXBELFVBQ0UsUUFBd0IsRUFDeEIsT0FBc0IsRUFDdEIsSUFBWTtRQUVaLElBQUksV0FBVyxHQUFHLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQztRQUVsRCxPQUFPLENBQUMsR0FBRyxDQUNULHdDQUF3QyxFQUN4QyxPQUFPLENBQUMsaUJBQWlCLENBQUMsV0FBVyxDQUN0QyxDQUFDO0lBQ0osQ0FBQztJQUVELHFHQUF5RSxHQUF6RSxVQUNFLFFBQXdCLEVBQ3hCLE9BQXNCLEVBQ3RCLElBQVksRUFDWixVQUFzQjtRQUV0QixJQUFJLFdBQVcsR0FBRyxhQUFhLENBQUMsaUJBQWlCLENBQUM7UUFFbEQsT0FBTyxDQUFDLEdBQUcsQ0FDVCx3Q0FBd0MsRUFDeEMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FDdEMsQ0FBQztRQUVGLEVBQUUsQ0FBQyxDQUFDLFVBQVUsQ0FBQztZQUFDLFVBQVUsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFFRCx1RUFBMkMsR0FBM0MsVUFDRSxRQUF3QixFQUN4QixlQUFrQyxFQUNsQyxJQUFZO1FBRVosT0FBTyxDQUFDLEdBQUcsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUE1SGEsK0JBQWEsR0FBRyxDQUFDLHFCQUFxQixDQUFDLENBQUM7SUE2SHhELHdCQUFDO0NBQUEsQUEvSEQsQ0FBdUMsV0FBVyxHQStIakQ7QUEvSFksOENBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIEN1c3RvbUFwcERlbGVnYXRlIGV4dGVuZHMgVUlSZXNwb25kZXJcbiAgaW1wbGVtZW50cyBVSUFwcGxpY2F0aW9uRGVsZWdhdGUsIFBLUHVzaFJlZ2lzdHJ5RGVsZWdhdGUge1xuICBwdWJsaWMgc3RhdGljIE9iakNQcm90b2NvbHMgPSBbVUlBcHBsaWNhdGlvbkRlbGVnYXRlXTtcblxuICBhcHBsaWNhdGlvbkRpZEZpbmlzaExhdW5jaGluZ1dpdGhPcHRpb25zKFxuICAgIGFwcGxpY2F0aW9uOiBVSUFwcGxpY2F0aW9uLFxuICAgIGxhdW5jaE9wdGlvbnNcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc29sZS5sb2coXCJhcHBsaWNhdGlvbldpbGxGaW5pc2hMYXVuY2hpbmdXaXRoT3B0aW9uczogXCIsIHRoaXMpO1xuXG4gICAgbGV0IGNlbnRlciA9IFVOVXNlck5vdGlmaWNhdGlvbkNlbnRlci5jdXJyZW50Tm90aWZpY2F0aW9uQ2VudGVyKCk7XG5cbiAgICBjZW50ZXIucmVxdWVzdEF1dGhvcml6YXRpb25XaXRoT3B0aW9uc0NvbXBsZXRpb25IYW5kbGVyKFxuICAgICAgVU5BdXRob3JpemF0aW9uT3B0aW9ucy5BbGVydCB8XG4gICAgICAgIFVOQXV0aG9yaXphdGlvbk9wdGlvbnMuU291bmQgfFxuICAgICAgICBVTkF1dGhvcml6YXRpb25PcHRpb25zLkJhZGdlLFxuICAgICAgKGdyYW50ZWQsIGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgIFwicmVxdWVzdEF1dGhvcml6YXRpb25XaXRoT3B0aW9uc0NvbXBsZXRpb25IYW5kbGVyOiBcIiArIGdyYW50ZWRcbiAgICAgICAgKTtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgfVxuICAgICk7XG4gICAgYXBwbGljYXRpb24ucmVnaXN0ZXJGb3JSZW1vdGVOb3RpZmljYXRpb25zKCk7XG4gICAgY29uc29sZS5sb2coUEtQdXNoVHlwZVZvSVApO1xuXG4gICAgLy8gcmVnaXN0ZXIgcHVzaCBraXBcbiAgICBsZXQgcHVzaGtpdFZPSVAgPSBQS1B1c2hSZWdpc3RyeS5hbGxvYygpLmluaXRXaXRoUXVldWUobnVsbCk7XG4gICAgcHVzaGtpdFZPSVAuZGVsZWdhdGUgPSB0aGlzO1xuICAgIHB1c2hraXRWT0lQLmRlc2lyZWRQdXNoVHlwZXMgPSBOU1NldC5zZXRXaXRoT2JqZWN0KFBLUHVzaFR5cGVWb0lQKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYXBwbGljYXRpb25EaWRCZWNvbWVBY3RpdmUoYXBwbGljYXRpb246IFVJQXBwbGljYXRpb24pOiB2b2lkIHtcbiAgICBjb25zb2xlLmxvZyhcImFwcGxpY2F0aW9uRGlkQmVjb21lQWN0aXZlOiAgXCIgKyBhcHBsaWNhdGlvbik7XG5cbiAgICBjb25zb2xlLmxvZyhcImlzIHJlZ2lzdGVyZWRcIiwgYXBwbGljYXRpb24ucmVnaXN0ZXJlZEZvclJlbW90ZU5vdGlmaWNhdGlvbnMpO1xuICB9XG5cbiAgYXBwbGljYXRpb25EaWRSZWdpc3RlckZvclJlbW90ZU5vdGlmaWNhdGlvbnNXaXRoRGV2aWNlVG9rZW4oXG4gICAgYXBwbGljYXRpb246IFVJQXBwbGljYXRpb24sXG4gICAgZGV2aWNlVG9rZW46IE5TRGF0YVxuICApIHtcbiAgICBsZXQgdG9rZW4gPSBkZXZpY2VUb2tlbi50b1N0cmluZygpLnJlcGxhY2UoL1s8XFxzPl0vZywgXCJcIik7XG4gIH1cbiAgYXBwbGljYXRpb25EaWRGYWlsVG9SZWdpc3RlckZvclJlbW90ZU5vdGlmaWNhdGlvbnNXaXRoRXJyb3IoXG4gICAgYXBwbGljYXRpb246IFVJQXBwbGljYXRpb24sXG4gICAgZXJyb3I6IE5TRXJyb3JcbiAgKSB7XG4gICAgY29uc29sZS5lcnJvcihcImZhaWxlZCB0byByZWdpc3RlciBwdXNoIFwiLCBlcnJvcik7XG4gIH1cblxuICBhcHBsaWNhdGlvbkRpZFJlY2VpdmVSZW1vdGVOb3RpZmljYXRpb24oXG4gICAgYXBwbGljYXRpb246IFVJQXBwbGljYXRpb24sXG4gICAgdXNlckluZm86IE5TRGljdGlvbmFyeTxhbnksIGFueT5cbiAgKSB7XG4gICAgY29uc29sZS5sb2coXG4gICAgICBcImFwcGxpY2F0aW9uRGlkUmVjZWl2ZVJlbW90ZU5vdGlmaWNhdGlvbjpcIiArIEpTT04uc3RyaW5naWZ5KHVzZXJJbmZvKVxuICAgICk7XG4gIH1cblxuICBhcHBsaWNhdGlvbkRpZFJlY2VpdmVSZW1vdGVOb3RpZmljYXRpb25GZXRjaENvbXBsZXRpb25IYW5kbGVyKFxuICAgIGFwcGxpY2F0aW9uOiBVSUFwcGxpY2F0aW9uLFxuICAgIHVzZXJJbmZvOiBOU0RpY3Rpb25hcnk8YW55LCBhbnk+LFxuICAgIGNvbXBsZXRpb25IYW5kbGVyOiBhbnlcbiAgKSB7XG4gICAgY29uc29sZS5sb2coXG4gICAgICBcImFwcGxpY2F0aW9uRGlkUmVjZWl2ZVJlbW90ZU5vdGlmaWNhdGlvbkZldGNoQ29tcGxldGlvbkhhbmRsZXI6XCIgK1xuICAgICAgICBKU09OLnN0cmluZ2lmeSh1c2VySW5mbylcbiAgICApO1xuXG4gICAgY29tcGxldGlvbkhhbmRsZXIoVUlCYWNrZ3JvdW5kRmV0Y2hSZXN1bHQuTmV3RGF0YSk7XG4gIH1cblxuICBhcHBsaWNhdGlvbkRpZEVudGVyQmFja2dyb3VuZChhcHBsaWNhdGlvbjogVUlBcHBsaWNhdGlvbikge1xuICAgIGNvbnNvbGUubG9nKFwiQVBQX0VOVEVSX0lOX0JBQ0tHUk9VTkRcIik7XG4gIH1cbiAgYXBwbGljYXRpb25XaWxsRW50ZXJGb3JlZ3JvdW5kKGFwcGxpY2F0aW9uOiBVSUFwcGxpY2F0aW9uKSB7XG4gICAgY29uc29sZS5sb2coXCJBUFBfRU5URVJfSU5fRk9SRUdST1VORFwiKTtcbiAgfVxuXG4gIGFwcGxpY2F0aW9uV2lsbFRlcm1pbmF0ZShhcHBsaWNhdGlvbjogVUlBcHBsaWNhdGlvbikge31cblxuICBwdXNoUmVnaXN0cnlEaWRJbnZhbGlkYXRlUHVzaFRva2VuRm9yVHlwZShcbiAgICByZWdpc3RyeTogUEtQdXNoUmVnaXN0cnksXG4gICAgdHlwZTogc3RyaW5nXG4gICkge1xuICAgIGNvbnNvbGUubG9nKFwiUFVTSEtJVCA6IElOVkFMSURfUFVTSEtJVF9UT0tFTlwiKTtcbiAgfVxuXG4gIHB1c2hSZWdpc3RyeURpZFJlY2VpdmVJbmNvbWluZ1B1c2hXaXRoUGF5bG9hZEZvclR5cGUoXG4gICAgcmVnaXN0cnk6IFBLUHVzaFJlZ2lzdHJ5LFxuICAgIHBheWxvYWQ6IFBLUHVzaFBheWxvYWQsXG4gICAgdHlwZTogc3RyaW5nXG4gICkge1xuICAgIGxldCBhcHBsaWNhdGlvbiA9IFVJQXBwbGljYXRpb24uc2hhcmVkQXBwbGljYXRpb247XG5cbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIFwiUFVTSEtJVCA6IElOQ09NSU5HIFZPSVAgTk9USUZJQ0FUSU9OIDpcIixcbiAgICAgIHBheWxvYWQuZGljdGlvbmFyeVBheWxvYWQuZGVzY3JpcHRpb25cbiAgICApO1xuICB9XG5cbiAgcHVzaFJlZ2lzdHJ5RGlkUmVjZWl2ZUluY29taW5nUHVzaFdpdGhQYXlsb2FkRm9yVHlwZVdpdGhDb21wbGV0aW9uSGFuZGxlcihcbiAgICByZWdpc3RyeTogUEtQdXNoUmVnaXN0cnksXG4gICAgcGF5bG9hZDogUEtQdXNoUGF5bG9hZCxcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgY29tcGxldGlvbjogKCkgPT4gdm9pZFxuICApIHtcbiAgICBsZXQgYXBwbGljYXRpb24gPSBVSUFwcGxpY2F0aW9uLnNoYXJlZEFwcGxpY2F0aW9uO1xuXG4gICAgY29uc29sZS5sb2coXG4gICAgICBcIlBVU0hLSVQgOiBJTkNPTUlORyBWT0lQIE5PVElGSUNBVElPTiA6XCIsXG4gICAgICBwYXlsb2FkLmRpY3Rpb25hcnlQYXlsb2FkLmRlc2NyaXB0aW9uXG4gICAgKTtcblxuICAgIGlmIChjb21wbGV0aW9uKSBjb21wbGV0aW9uKCk7XG4gIH1cblxuICBwdXNoUmVnaXN0cnlEaWRVcGRhdGVQdXNoQ3JlZGVudGlhbHNGb3JUeXBlKFxuICAgIHJlZ2lzdHJ5OiBQS1B1c2hSZWdpc3RyeSxcbiAgICBwdXNoQ3JlZGVudGlhbHM6IFBLUHVzaENyZWRlbnRpYWxzLFxuICAgIHR5cGU6IHN0cmluZ1xuICApIHtcbiAgICBjb25zb2xlLmxvZyhcIlBVU0hLSVQgOiBWT0lQX1RPS0VOIDogXCIpO1xuICB9XG59XG4iXX0=